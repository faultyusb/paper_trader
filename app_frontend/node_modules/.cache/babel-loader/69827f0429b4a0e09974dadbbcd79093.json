{"ast":null,"code":"var _jsxFileName = \"D:\\\\reactJS\\\\paper-trading-app\\\\src\\\\portfolio\\\\portfolio.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Stock from './Stock';\nimport './portfolio.css';\nexport default class portfolio extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      notLoggedIn: true,\n      stocks: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('/updateStocks', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(data => {\n      // user is logged in\n      if (!data.errorMessage) {\n        this.setState({\n          notLoggedIn: false,\n          stocks: data.stocks\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.notLoggedIn) {\n      return /*#__PURE__*/React.createElement(Stock, {\n        isLoggedIn: this.state.notLoggedIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (this.state.stocks.length === 0) {\n      return /*#__PURE__*/React.createElement(Stock, {\n        missing: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 20\n        }\n      });\n    }\n\n    let total_investment = 0;\n    let current_value = 0;\n    const stock_array = this.state.stocks;\n\n    for (let i = 0; i < stock_array.length; i++) {\n      total_investment += stock_array[i].price * stock_array[i].shares;\n      current_value += stock_array[i].asset_value * stock_array[i].shares;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"portfolio__\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header_stats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, \"Initial Investment: $ \", total_investment), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, \"Current Value of Assets: $ \", current_value), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, \"Net Profit: $ \", total_investment - current_value)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stocks__\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, this.state.stocks.map(stock => {\n      return /*#__PURE__*/React.createElement(Stock, {\n        symbol: stock.symbol,\n        price: stock.price,\n        volume: stock.volume,\n        shares: stock.shares,\n        init_investment: stock.shares * stock.price,\n        curr_value: stock.shares * stock.asset_value // date={stock.date}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 36\n        }\n      });\n    })));\n  }\n\n}","map":{"version":3,"sources":["D:/reactJS/paper-trading-app/src/portfolio/portfolio.js"],"names":["React","Redirect","Stock","portfolio","Component","constructor","props","state","notLoggedIn","stocks","componentDidMount","fetch","method","headers","then","response","json","data","errorMessage","setState","render","length","total_investment","current_value","stock_array","i","price","shares","asset_value","map","stock","symbol","volume"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Stock from './Stock';\r\n\r\nimport './portfolio.css';\r\n\r\n\r\nexport default class portfolio extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            notLoggedIn: true,\r\n            stocks: []\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        fetch('/updateStocks', {\r\n            method: 'GET',\r\n            headers: {'Content-Type': 'application/json'},\r\n        })\r\n            .then(response => response.json())\r\n                .then(data=>{\r\n                    // user is logged in\r\n                    if (!data.errorMessage){\r\n                        this.setState({notLoggedIn: false, stocks: data.stocks });\r\n                    }\r\n                    });\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n        if (this.state.notLoggedIn){\r\n            return <Stock isLoggedIn = {this.state.notLoggedIn} />\r\n        }\r\n\r\n        if (this.state.stocks.length === 0){\r\n            return <Stock missing={true} />;\r\n        }\r\n        \r\n        let total_investment = 0;\r\n        let current_value = 0;\r\n        const stock_array = this.state.stocks;\r\n        for (let i = 0; i < stock_array.length; i++){\r\n            total_investment += stock_array[i].price * stock_array[i].shares;\r\n            current_value += stock_array[i].asset_value * stock_array[i].shares;\r\n        }\r\n\r\n        return (\r\n            <div className=\"portfolio__\">\r\n                <div className=\"header_stats\">\r\n                    <h1>Initial Investment: $ {total_investment}</h1>\r\n                    <h1>Current Value of Assets: $ {current_value}</h1>\r\n                    <h1>Net Profit: $ {total_investment - current_value }</h1>\r\n                </div>\r\n\r\n                <div className=\"stocks__\">\r\n                    {this.state.stocks.map(\r\n                        stock => {\r\n                            return <Stock \r\n                                        symbol={stock.symbol}\r\n                                        price={stock.price}\r\n                                        volume={stock.volume}\r\n                                        shares={stock.shares}\r\n                                        init_investment = {stock.shares * stock.price}\r\n                                        curr_value = {stock.shares * stock.asset_value}\r\n                                        // date={stock.date}\r\n                                    />\r\n                        }\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}