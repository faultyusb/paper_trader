{"ast":null,"code":"import _classCallCheck from\"D:\\\\reactJS\\\\paper-trading-app\\\\app_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\reactJS\\\\paper-trading-app\\\\app_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\reactJS\\\\paper-trading-app\\\\app_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\reactJS\\\\paper-trading-app\\\\app_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\reactJS\\\\paper-trading-app\\\\app_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Alert from'react-bootstrap/Alert';// import SignUp from './signup';\nimport{Link,Redirect}from'react-router-dom';import'./authenticate.css';import'bootstrap/dist/css/bootstrap.css';var Authenticate=/*#__PURE__*/function(_React$Component){_inherits(Authenticate,_React$Component);var _super=_createSuper(Authenticate);function Authenticate(props){var _this;_classCallCheck(this,Authenticate);_this=_super.call(this,props);// this.onChangeHandler = this.onChangeHandler.bind(this);\n_this.onSubmitHandler=_this.onSubmitHandler.bind(_assertThisInitialized(_this));_this.state={email:\"\",password:\"\",redirect:false,error:{errorStatus:false,errorMessage:\"\"}};return _this;}_createClass(Authenticate,[{key:\"onSubmitHandler\",value:function onSubmitHandler(event){var _this2=this;event.preventDefault();fetch('/SignIn',{method:'POST',cache:'no-cache',credentials:'same-origin',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state)}).then(function(response){return response.json();}).then(function(data){if(data.errorMessage){_this2.setState({error:{errorStatus:true,errorMessage:data.errorMessage}});}else{_this2.setState({redirect:true});window.location.reload();}});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;fetch('/isLoggedIn',{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.first_name){_this3.setState({redirect:true});}}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;// cannot visit sign in page if already signed in\nif(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/home_page\"});}return/*#__PURE__*/React.createElement(\"div\",null,this.state.error.errorStatus?/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},this.state.error.errorMessage):null,/*#__PURE__*/React.createElement(\"div\",{className:\"auth__container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Sign in!\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.onSubmitHandler},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(event){return _this4.setState({email:event.target.value});}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){return _this4.setState({password:event.target.value});}})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"switch\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Don't have an account?\"),/*#__PURE__*/React.createElement(Link,{to:\"/SignUp\"},\"Sign up here.\"))));}}]);return Authenticate;}(React.Component);export{Authenticate as default};","map":{"version":3,"sources":["D:/reactJS/paper-trading-app/app_frontend/src/authenticate/authenticate.js"],"names":["React","Form","Button","Alert","Link","Redirect","Authenticate","props","onSubmitHandler","bind","state","email","password","redirect","error","errorStatus","errorMessage","event","preventDefault","fetch","method","cache","credentials","headers","body","JSON","stringify","then","response","json","data","setState","window","location","reload","console","log","first_name","catch","err","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Alert from 'react-bootstrap/Alert';\r\n// import SignUp from './signup';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n\r\nimport './authenticate.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nexport default class Authenticate extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        // this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\", \r\n            redirect: false, \r\n            error: {\r\n                errorStatus: false,\r\n                errorMessage: \"\"\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    onSubmitHandler(event){\r\n        event.preventDefault();\r\n        fetch('/SignIn', {\r\n            method: 'POST',\r\n            cache: 'no-cache',\r\n            credentials: 'same-origin',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(this.state)\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data.errorMessage){\r\n                this.setState({ error: {errorStatus: true, errorMessage: data.errorMessage}})\r\n            }\r\n            else{\r\n                this.setState({ redirect: true });\r\n                window.location.reload();\r\n            }\r\n        })     \r\n    }\r\n\r\n    componentDidMount(){\r\n        fetch('/isLoggedIn', {\r\n            method: 'GET',\r\n            headers: {'Content-Type': 'application/json'},\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            if (data.first_name){\r\n                this.setState({ redirect: true });\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  \r\n    render(){\r\n        // cannot visit sign in page if already signed in\r\n        if (this.state.redirect){\r\n            return <Redirect to='/home_page'/>;\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                {this.state.error.errorStatus ? <Alert variant='danger'>{this.state.error.errorMessage}</Alert> : null}\r\n                <div className=\"auth__container\">\r\n                    <h2>Sign in!</h2>\r\n                    <Form onSubmit = {this.onSubmitHandler}>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Label>Email address</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={(event)=> this.setState({email: event.target.value})}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(event)=> this.setState({password: event.target.value})}/>\r\n                        </Form.Group>\r\n                        \r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form>\r\n                    <div className=\"switch\">\r\n                        <h3>Don't have an account?</h3><Link to='/SignUp'>Sign up here.</Link>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}