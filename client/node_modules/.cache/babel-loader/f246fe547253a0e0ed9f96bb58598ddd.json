{"ast":null,"code":"import _classCallCheck from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{format}from\"d3-format\";import{timeFormat}from\"d3-time-format\";import{ChartCanvas,Chart}from\"react-stockcharts\";import{BarSeries,AreaSeries,CandlestickSeries,LineSeries}from\"react-stockcharts/lib/series\";import{XAxis,YAxis}from\"react-stockcharts/lib/axes\";import{CrossHairCursor,EdgeIndicator,CurrentCoordinate,MouseCoordinateX,MouseCoordinateY}from\"react-stockcharts/lib/coordinates\";import{discontinuousTimeScaleProvider}from\"react-stockcharts/lib/scale\";import{OHLCTooltip,MovingAverageTooltip}from\"react-stockcharts/lib/tooltip\";import{ema,sma}from\"react-stockcharts/lib/indicator\";import{fitWidth}from\"react-stockcharts/lib/helper\";import{last}from\"react-stockcharts/lib/utils\";import'./StockGraph.css';var CandleStickChartWithEdge=/*#__PURE__*/function(_React$Component){_inherits(CandleStickChartWithEdge,_React$Component);var _super=_createSuper(CandleStickChartWithEdge);function CandleStickChartWithEdge(){_classCallCheck(this,CandleStickChartWithEdge);return _super.apply(this,arguments);}_createClass(CandleStickChartWithEdge,[{key:\"render\",value:function render(){var ema20=ema().id(0).options({windowSize:20}).merge(function(d,c){d.ema20=c;}).accessor(function(d){return d.ema20;});var ema50=ema().id(2).options({windowSize:50}).merge(function(d,c){d.ema50=c;}).accessor(function(d){return d.ema50;});var smaVolume70=sma().id(3).options({windowSize:70,sourcePath:\"volume\"}).merge(function(d,c){d.smaVolume70=c;}).accessor(function(d){return d.smaVolume70;});var _this$props=this.props,type=_this$props.type,initialData=_this$props.data,ratio=_this$props.ratio;var calculatedData=ema20(ema50(smaVolume70(initialData)));var xScaleProvider=discontinuousTimeScaleProvider.inputDateAccessor(function(d){return d.date;});var _xScaleProvider=xScaleProvider(calculatedData),data=_xScaleProvider.data,xScale=_xScaleProvider.xScale,xAccessor=_xScaleProvider.xAccessor,displayXAccessor=_xScaleProvider.displayXAccessor;var start=xAccessor(last(data));var end=xAccessor(data[Math.max(0,data.length-150)]);var xExtents=[start,end];return/*#__PURE__*/React.createElement(ChartCanvas,{height:600,ratio:ratio,width:this.props.width-200//1800\n,margin:{left:90,right:90,top:130,bottom:50},type:type,seriesName:\"MSFT\",data:data,xScale:xScale,xAccessor:xAccessor,displayXAccessor:displayXAccessor,xExtents:xExtents},/*#__PURE__*/React.createElement(Chart,{id:2,yExtents:[function(d){return d.volume;},smaVolume70.accessor()],height:150,origin:function origin(w,h){return[0,h-150];}},/*#__PURE__*/React.createElement(YAxis,{axisAt:\"left\",orient:\"left\",ticks:5,tickFormat:format(\".2s\"),tickStroke:\"#fff\"}),/*#__PURE__*/React.createElement(BarSeries,{yAccessor:function yAccessor(d){return d.volume;},fill:function fill(d){return d.close>d.open?\"#6BA583\":\"#FF0000\";}}),/*#__PURE__*/React.createElement(AreaSeries,{yAccessor:smaVolume70.accessor(),stroke:smaVolume70.stroke(),fill:smaVolume70.fill()}),/*#__PURE__*/React.createElement(CurrentCoordinate,{yAccessor:smaVolume70.accessor(),fill:smaVolume70.stroke()}),/*#__PURE__*/React.createElement(CurrentCoordinate,{yAccessor:function yAccessor(d){return d.volume;},fill:\"#9B0A47\"}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"first\",orient:\"left\",edgeAt:\"left\",yAccessor:function yAccessor(d){return d.volume;},displayFormat:format(\".4s\"),fill:\"#0F0F0F\"}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"last\",orient:\"right\",edgeAt:\"right\",yAccessor:function yAccessor(d){return d.volume;},displayFormat:format(\".4s\"),fill:\"#0F0F0F\"}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"first\",orient:\"left\",edgeAt:\"left\",yAccessor:smaVolume70.accessor(),displayFormat:format(\".4s\"),fill:smaVolume70.fill()}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"last\",orient:\"right\",edgeAt:\"right\",yAccessor:smaVolume70.accessor(),displayFormat:format(\".4s\"),fill:smaVolume70.fill()})),/*#__PURE__*/React.createElement(Chart,{id:1,yPan:true,yExtents:[function(d){return[d.high,d.low];},ema20.accessor(),ema50.accessor()],padding:{top:5,bottom:50},height:800},/*#__PURE__*/React.createElement(XAxis,{axisAt:\"bottom\",orient:\"bottom\",stroke:\"#ffffff\"}),/*#__PURE__*/React.createElement(XAxis,{axisAt:\"top\",orient:\"top\",flexTicks:true,stroke:\"#ffffff\",tickStroke:\"#ffffff\"}),/*#__PURE__*/React.createElement(YAxis,{axisAt:\"right\",orient:\"right\",ticks:5,tickStroke:\"#ffffff\"}),/*#__PURE__*/React.createElement(CandlestickSeries,{stroke:function stroke(d){return d.close>d.open?\"#6BA583\":\"#DB0000\";},wickStroke:function wickStroke(d){return d.close>d.open?\"#6BA583\":\"#DB0000\";},fill:function fill(d){return d.close>d.open?\"#6BA583\":\"#DB0000\";}}),/*#__PURE__*/React.createElement(LineSeries,{yAccessor:ema20.accessor(),stroke:ema20.stroke(),highlightOnHover:true}),/*#__PURE__*/React.createElement(LineSeries,{yAccessor:ema50.accessor(),stroke:ema50.stroke(),highlightOnHover:true}),/*#__PURE__*/React.createElement(CurrentCoordinate,{yAccessor:ema20.accessor(),fill:ema20.stroke()}),/*#__PURE__*/React.createElement(CurrentCoordinate,{yAccessor:ema50.accessor(),fill:ema50.stroke()}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"last\",orient:\"right\",edgeAt:\"right\",yAccessor:ema20.accessor(),fill:ema20.fill(),valueFill:\"#fff\"}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"last\",orient:\"right\",edgeAt:\"right\",yAccessor:ema50.accessor(),fill:ema50.fill()}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"last\",orient:\"right\",edgeAt:\"right\",yAccessor:function yAccessor(d){return d.close;},fill:function fill(d){return d.close>d.open?\"#6BA583\":\"#FF0000\";}}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"first\",orient:\"left\",edgeAt:\"left\",yAccessor:ema20.accessor(),fill:ema20.fill()}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"first\",orient:\"left\",edgeAt:\"left\",yAccessor:ema50.accessor(),fill:ema50.fill()}),/*#__PURE__*/React.createElement(EdgeIndicator,{itemType:\"first\",orient:\"left\",edgeAt:\"left\",yAccessor:function yAccessor(d){return d.close;},fill:function fill(d){return d.close>d.open?\"#6BA583\":\"#FF0000\";}}),/*#__PURE__*/React.createElement(MouseCoordinateX,{at:\"top\",orient:\"top\",displayFormat:timeFormat(\"%Y-%m-%d\")}),/*#__PURE__*/React.createElement(MouseCoordinateX,{at:\"bottom\",orient:\"bottom\",displayFormat:timeFormat(\"%Y-%m-%d\")}),/*#__PURE__*/React.createElement(MouseCoordinateY,{at:\"right\",orient:\"right\",displayFormat:format(\".2f\")}),/*#__PURE__*/React.createElement(MouseCoordinateY,{at:\"left\",orient:\"left\",displayFormat:format(\".2f\")}),/*#__PURE__*/React.createElement(OHLCTooltip,{origin:[-40,-65]}),/*#__PURE__*/React.createElement(MovingAverageTooltip,{onClick:function onClick(e){return console.log(e);},origin:[-38,15],options:[{yAccessor:ema20.accessor(),type:ema20.type(),stroke:ema20.stroke(),windowSize:ema20.options().windowSize},{yAccessor:ema50.accessor(),type:ema50.type(),stroke:ema50.stroke(),windowSize:ema50.options().windowSize}]})),/*#__PURE__*/React.createElement(CrossHairCursor,{stroke:\"#ffffff\"}));}}]);return CandleStickChartWithEdge;}(React.Component);/*\r\n\r\n\r\n*/CandleStickChartWithEdge.defaultProps={type:\"svg\"};CandleStickChartWithEdge=fitWidth(CandleStickChartWithEdge);export default CandleStickChartWithEdge;","map":{"version":3,"sources":["D:/reactJS/paper-trading-app/src/home_page/StockGraph/StockGraph.js"],"names":["React","format","timeFormat","ChartCanvas","Chart","BarSeries","AreaSeries","CandlestickSeries","LineSeries","XAxis","YAxis","CrossHairCursor","EdgeIndicator","CurrentCoordinate","MouseCoordinateX","MouseCoordinateY","discontinuousTimeScaleProvider","OHLCTooltip","MovingAverageTooltip","ema","sma","fitWidth","last","CandleStickChartWithEdge","ema20","id","options","windowSize","merge","d","c","accessor","ema50","smaVolume70","sourcePath","props","type","initialData","data","ratio","calculatedData","xScaleProvider","inputDateAccessor","date","xScale","xAccessor","displayXAccessor","start","end","Math","max","length","xExtents","width","left","right","top","bottom","volume","w","h","close","open","stroke","fill","high","low","e","console","log","yAccessor","Component","defaultProps"],"mappings":"wlBACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAGA,OAASC,MAAT,KAAuB,WAAvB,CACA,OAASC,UAAT,KAA2B,gBAA3B,CAEA,OAASC,WAAT,CAAsBC,KAAtB,KAAmC,mBAAnC,CACA,OACCC,SADD,CAECC,UAFD,CAGCC,iBAHD,CAICC,UAJD,KAKO,8BALP,CAMA,OAASC,KAAT,CAAgBC,KAAhB,KAA6B,4BAA7B,CACA,OACCC,eADD,CAECC,aAFD,CAGCC,iBAHD,CAICC,gBAJD,CAKCC,gBALD,KAMO,mCANP,CAQA,OAASC,8BAAT,KAA+C,6BAA/C,CACA,OACCC,WADD,CAECC,oBAFD,KAGO,+BAHP,CAIA,OAASC,GAAT,CAAcC,GAAd,KAAyB,iCAAzB,CACA,OAASC,QAAT,KAAyB,8BAAzB,CACA,OAASC,IAAT,KAAqB,6BAArB,CAEA,MAAO,kBAAP,C,GAEMC,CAAAA,wB,oVACI,CACR,GAAMC,CAAAA,KAAK,CAAGL,GAAG,GACfM,EADY,CACT,CADS,EAEZC,OAFY,CAEJ,CAAEC,UAAU,CAAE,EAAd,CAFI,EAGZC,KAHY,CAGN,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAACD,CAAC,CAACL,KAAF,CAAUM,CAAV,CAAa,CAHlB,EAIZC,QAJY,CAIH,SAAAF,CAAC,QAAIA,CAAAA,CAAC,CAACL,KAAN,EAJE,CAAd,CAMA,GAAMQ,CAAAA,KAAK,CAAGb,GAAG,GACfM,EADY,CACT,CADS,EAEZC,OAFY,CAEJ,CAAEC,UAAU,CAAE,EAAd,CAFI,EAGZC,KAHY,CAGN,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAACD,CAAC,CAACG,KAAF,CAAUF,CAAV,CAAa,CAHlB,EAIZC,QAJY,CAIH,SAAAF,CAAC,QAAIA,CAAAA,CAAC,CAACG,KAAN,EAJE,CAAd,CAMA,GAAMC,CAAAA,WAAW,CAAGb,GAAG,GACrBK,EADkB,CACf,CADe,EAElBC,OAFkB,CAEV,CAAEC,UAAU,CAAE,EAAd,CAAkBO,UAAU,CAAE,QAA9B,CAFU,EAGlBN,KAHkB,CAGZ,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAACD,CAAC,CAACI,WAAF,CAAgBH,CAAhB,CAAmB,CAHlB,EAIlBC,QAJkB,CAIT,SAAAF,CAAC,QAAIA,CAAAA,CAAC,CAACI,WAAN,EAJQ,CAApB,CAbQ,gBAkBmC,KAAKE,KAlBxC,CAkBAC,IAlBA,aAkBAA,IAlBA,CAkBYC,WAlBZ,aAkBMC,IAlBN,CAkByBC,KAlBzB,aAkByBA,KAlBzB,CAoBR,GAAMC,CAAAA,cAAc,CAAGhB,KAAK,CAACQ,KAAK,CAACC,WAAW,CAACI,WAAD,CAAZ,CAAN,CAA5B,CACA,GAAMI,CAAAA,cAAc,CAAGzB,8BAA8B,CACnD0B,iBADqB,CACH,SAAAb,CAAC,QAAIA,CAAAA,CAAC,CAACc,IAAN,EADE,CAAvB,CArBQ,oBA4BJF,cAAc,CAACD,cAAD,CA5BV,CAwBPF,IAxBO,iBAwBPA,IAxBO,CAyBPM,MAzBO,iBAyBPA,MAzBO,CA0BPC,SA1BO,iBA0BPA,SA1BO,CA2BPC,gBA3BO,iBA2BPA,gBA3BO,CA8BR,GAAMC,CAAAA,KAAK,CAAGF,SAAS,CAACvB,IAAI,CAACgB,IAAD,CAAL,CAAvB,CACA,GAAMU,CAAAA,GAAG,CAAGH,SAAS,CAACP,IAAI,CAACW,IAAI,CAACC,GAAL,CAAS,CAAT,CAAYZ,IAAI,CAACa,MAAL,CAAc,GAA1B,CAAD,CAAL,CAArB,CACA,GAAMC,CAAAA,QAAQ,CAAG,CAACL,KAAD,CAAQC,GAAR,CAAjB,CAEA,mBACC,oBAAC,WAAD,EAAa,MAAM,CAAE,GAArB,CACC,KAAK,CAAET,KADR,CAEC,KAAK,CAAE,KAAKJ,KAAL,CAAWkB,KAAX,CAAmB,GAAI;AAF/B,CAGC,MAAM,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,GAAG,CAAE,GAA5B,CAAiCC,MAAM,CAAE,EAAzC,CAHT,CAIC,IAAI,CAAErB,IAJP,CAKC,UAAU,CAAC,MALZ,CAMC,IAAI,CAAEE,IANP,CAOC,MAAM,CAAEM,MAPT,CAQC,SAAS,CAAEC,SARZ,CASC,gBAAgB,CAAEC,gBATnB,CAUC,QAAQ,CAAEM,QAVX,eAYC,oBAAC,KAAD,EAAO,EAAE,CAAE,CAAX,CACC,QAAQ,CAAE,CAAC,SAAAvB,CAAC,QAAIA,CAAAA,CAAC,CAAC6B,MAAN,EAAF,CAAgBzB,WAAW,CAACF,QAAZ,EAAhB,CADX,CAEC,MAAM,CAAE,GAFT,CAEc,MAAM,CAAE,gBAAC4B,CAAD,CAAIC,CAAJ,QAAU,CAAC,CAAD,CAAIA,CAAC,CAAG,GAAR,CAAV,EAFtB,eAIC,oBAAC,KAAD,EAAO,MAAM,CAAC,MAAd,CAAqB,MAAM,CAAC,MAA5B,CAAmC,KAAK,CAAE,CAA1C,CAA6C,UAAU,CAAE3D,MAAM,CAAC,KAAD,CAA/D,CAAwE,UAAU,CAAC,MAAnF,EAJD,cAMC,oBAAC,SAAD,EAAW,SAAS,CAAE,mBAAA4B,CAAC,QAAIA,CAAAA,CAAC,CAAC6B,MAAN,EAAvB,CAAqC,IAAI,CAAE,cAAA7B,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EAA5C,EAND,cAOC,oBAAC,UAAD,EAAY,SAAS,CAAE7B,WAAW,CAACF,QAAZ,EAAvB,CAA+C,MAAM,CAAEE,WAAW,CAAC8B,MAAZ,EAAvD,CAA6E,IAAI,CAAE9B,WAAW,CAAC+B,IAAZ,EAAnF,EAPD,cASC,oBAAC,iBAAD,EAAmB,SAAS,CAAE/B,WAAW,CAACF,QAAZ,EAA9B,CAAsD,IAAI,CAAEE,WAAW,CAAC8B,MAAZ,EAA5D,EATD,cAUC,oBAAC,iBAAD,EAAmB,SAAS,CAAE,mBAAAlC,CAAC,QAAIA,CAAAA,CAAC,CAAC6B,MAAN,EAA/B,CAA6C,IAAI,CAAC,SAAlD,EAVD,cAYC,oBAAC,aAAD,EAAe,QAAQ,CAAC,OAAxB,CAAgC,MAAM,CAAC,MAAvC,CAA8C,MAAM,CAAC,MAArD,CACC,SAAS,CAAE,mBAAA7B,CAAC,QAAIA,CAAAA,CAAC,CAAC6B,MAAN,EADb,CAC2B,aAAa,CAAEzD,MAAM,CAAC,KAAD,CADhD,CACyD,IAAI,CAAC,SAD9D,EAZD,cAcC,oBAAC,aAAD,EAAe,QAAQ,CAAC,MAAxB,CAA+B,MAAM,CAAC,OAAtC,CAA8C,MAAM,CAAC,OAArD,CACC,SAAS,CAAE,mBAAA4B,CAAC,QAAIA,CAAAA,CAAC,CAAC6B,MAAN,EADb,CAC2B,aAAa,CAAEzD,MAAM,CAAC,KAAD,CADhD,CACyD,IAAI,CAAC,SAD9D,EAdD,cAgBC,oBAAC,aAAD,EAAe,QAAQ,CAAC,OAAxB,CAAgC,MAAM,CAAC,MAAvC,CAA8C,MAAM,CAAC,MAArD,CACC,SAAS,CAAEgC,WAAW,CAACF,QAAZ,EADZ,CACoC,aAAa,CAAE9B,MAAM,CAAC,KAAD,CADzD,CACkE,IAAI,CAAEgC,WAAW,CAAC+B,IAAZ,EADxE,EAhBD,cAkBC,oBAAC,aAAD,EAAe,QAAQ,CAAC,MAAxB,CAA+B,MAAM,CAAC,OAAtC,CAA8C,MAAM,CAAC,OAArD,CACC,SAAS,CAAE/B,WAAW,CAACF,QAAZ,EADZ,CACoC,aAAa,CAAE9B,MAAM,CAAC,KAAD,CADzD,CACkE,IAAI,CAAEgC,WAAW,CAAC+B,IAAZ,EADxE,EAlBD,CAZD,cAiCC,oBAAC,KAAD,EAAO,EAAE,CAAE,CAAX,CACC,IAAI,KADL,CACM,QAAQ,CAAE,CAAC,SAAAnC,CAAC,QAAI,CAACA,CAAC,CAACoC,IAAH,CAASpC,CAAC,CAACqC,GAAX,CAAJ,EAAF,CAAuB1C,KAAK,CAACO,QAAN,EAAvB,CAAyCC,KAAK,CAACD,QAAN,EAAzC,CADhB,CAEC,OAAO,CAAE,CAAEyB,GAAG,CAAE,CAAP,CAAUC,MAAM,CAAE,EAAlB,CAFV,CAGC,MAAM,CAAI,GAHX,eAMC,oBAAC,KAAD,EAAO,MAAM,CAAC,QAAd,CAAuB,MAAM,CAAC,QAA9B,CAAuC,MAAM,CAAC,SAA9C,EAND,cAOC,oBAAC,KAAD,EAAO,MAAM,CAAC,KAAd,CAAoB,MAAM,CAAC,KAA3B,CAAiC,SAAS,KAA1C,CAA2C,MAAM,CAAC,SAAlD,CAA4D,UAAU,CAAC,SAAvE,EAPD,cAQC,oBAAC,KAAD,EAAO,MAAM,CAAC,OAAd,CAAsB,MAAM,CAAC,OAA7B,CAAqC,KAAK,CAAE,CAA5C,CAA+C,UAAU,CAAC,SAA1D,EARD,cAUgB,oBAAC,iBAAD,EACA,MAAM,CAAE,gBAAA5B,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EADT,CAEf,UAAU,CAAE,oBAAAjC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EAFE,CAGf,IAAI,CAAE,cAAAjC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EAHQ,EAVhB,cAeC,oBAAC,UAAD,EAAY,SAAS,CAAEtC,KAAK,CAACO,QAAN,EAAvB,CAAyC,MAAM,CAAEP,KAAK,CAACuC,MAAN,EAAjD,CAAiE,gBAAgB,KAAjF,EAfD,cAgBC,oBAAC,UAAD,EAAY,SAAS,CAAE/B,KAAK,CAACD,QAAN,EAAvB,CAAyC,MAAM,CAAEC,KAAK,CAAC+B,MAAN,EAAjD,CAAiE,gBAAgB,KAAjF,EAhBD,cAkBC,oBAAC,iBAAD,EAAmB,SAAS,CAAEvC,KAAK,CAACO,QAAN,EAA9B,CAAgD,IAAI,CAAEP,KAAK,CAACuC,MAAN,EAAtD,EAlBD,cAmBC,oBAAC,iBAAD,EAAmB,SAAS,CAAE/B,KAAK,CAACD,QAAN,EAA9B,CAAgD,IAAI,CAAEC,KAAK,CAAC+B,MAAN,EAAtD,EAnBD,cAqBC,oBAAC,aAAD,EAAe,QAAQ,CAAC,MAAxB,CAA+B,MAAM,CAAC,OAAtC,CAA8C,MAAM,CAAC,OAArD,CACC,SAAS,CAAEvC,KAAK,CAACO,QAAN,EADZ,CAC8B,IAAI,CAAEP,KAAK,CAACwC,IAAN,EADpC,CACkD,SAAS,CAAC,MAD5D,EArBD,cAuBC,oBAAC,aAAD,EAAe,QAAQ,CAAC,MAAxB,CAA+B,MAAM,CAAC,OAAtC,CAA8C,MAAM,CAAC,OAArD,CACC,SAAS,CAAEhC,KAAK,CAACD,QAAN,EADZ,CAC8B,IAAI,CAAEC,KAAK,CAACgC,IAAN,EADpC,EAvBD,cAyBC,oBAAC,aAAD,EAAe,QAAQ,CAAC,MAAxB,CAA+B,MAAM,CAAC,OAAtC,CAA8C,MAAM,CAAC,OAArD,CACC,SAAS,CAAE,mBAAAnC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAN,EADb,CAC0B,IAAI,CAAE,cAAAhC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EADjC,EAzBD,cA2BC,oBAAC,aAAD,EAAe,QAAQ,CAAC,OAAxB,CAAgC,MAAM,CAAC,MAAvC,CAA8C,MAAM,CAAC,MAArD,CACC,SAAS,CAAEtC,KAAK,CAACO,QAAN,EADZ,CAC8B,IAAI,CAAEP,KAAK,CAACwC,IAAN,EADpC,EA3BD,cA6BC,oBAAC,aAAD,EAAe,QAAQ,CAAC,OAAxB,CAAgC,MAAM,CAAC,MAAvC,CAA8C,MAAM,CAAC,MAArD,CACC,SAAS,CAAEhC,KAAK,CAACD,QAAN,EADZ,CAC8B,IAAI,CAAEC,KAAK,CAACgC,IAAN,EADpC,EA7BD,cA+BC,oBAAC,aAAD,EAAe,QAAQ,CAAC,OAAxB,CAAgC,MAAM,CAAC,MAAvC,CAA8C,MAAM,CAAC,MAArD,CACC,SAAS,CAAE,mBAAAnC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAN,EADb,CAC0B,IAAI,CAAE,cAAAhC,CAAC,QAAIA,CAAAA,CAAC,CAACgC,KAAF,CAAUhC,CAAC,CAACiC,IAAZ,CAAmB,SAAnB,CAA+B,SAAnC,EADjC,EA/BD,cAkCC,oBAAC,gBAAD,EACC,EAAE,CAAC,KADJ,CAEC,MAAM,CAAC,KAFR,CAGC,aAAa,CAAE5D,UAAU,CAAC,UAAD,CAH1B,EAlCD,cAsCC,oBAAC,gBAAD,EACC,EAAE,CAAC,QADJ,CAEC,MAAM,CAAC,QAFR,CAGC,aAAa,CAAEA,UAAU,CAAC,UAAD,CAH1B,EAtCD,cA0CC,oBAAC,gBAAD,EACC,EAAE,CAAC,OADJ,CAEC,MAAM,CAAC,OAFR,CAGC,aAAa,CAAED,MAAM,CAAC,KAAD,CAHtB,EA1CD,cA8CC,oBAAC,gBAAD,EACC,EAAE,CAAC,MADJ,CAEC,MAAM,CAAC,MAFR,CAGC,aAAa,CAAEA,MAAM,CAAC,KAAD,CAHtB,EA9CD,cAmDC,oBAAC,WAAD,EAAa,MAAM,CAAE,CAAC,CAAC,EAAF,CAAM,CAAC,EAAP,CAArB,EAnDD,cAoDC,oBAAC,oBAAD,EACC,OAAO,CAAE,iBAAAkE,CAAC,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAJ,EADX,CAEC,MAAM,CAAE,CAAC,CAAC,EAAF,CAAM,EAAN,CAFT,CAGC,OAAO,CAAE,CACR,CACCG,SAAS,CAAE9C,KAAK,CAACO,QAAN,EADZ,CAECK,IAAI,CAAEZ,KAAK,CAACY,IAAN,EAFP,CAGC2B,MAAM,CAAEvC,KAAK,CAACuC,MAAN,EAHT,CAICpC,UAAU,CAAEH,KAAK,CAACE,OAAN,GAAgBC,UAJ7B,CADQ,CAOR,CACC2C,SAAS,CAAEtC,KAAK,CAACD,QAAN,EADZ,CAECK,IAAI,CAAEJ,KAAK,CAACI,IAAN,EAFP,CAGC2B,MAAM,CAAE/B,KAAK,CAAC+B,MAAN,EAHT,CAICpC,UAAU,CAAEK,KAAK,CAACN,OAAN,GAAgBC,UAJ7B,CAPQ,CAHV,EApDD,CAjCD,cAwGC,oBAAC,eAAD,EAAiB,MAAM,CAAC,SAAxB,EAxGD,CADD,CA4GA,C,sCA/IqC3B,KAAK,CAACuE,S,EAkJ7C;;;EAYAhD,wBAAwB,CAACiD,YAAzB,CAAwC,CACvCpC,IAAI,CAAE,KADiC,CAAxC,CAGAb,wBAAwB,CAAGF,QAAQ,CAACE,wBAAD,CAAnC,CAEA,cAAeA,CAAAA,wBAAf","sourcesContent":["\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { format } from \"d3-format\";\r\nimport { timeFormat } from \"d3-time-format\";\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tAreaSeries,\r\n\tCandlestickSeries,\r\n\tLineSeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tEdgeIndicator,\r\n\tCurrentCoordinate,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport {\r\n\tOHLCTooltip,\r\n\tMovingAverageTooltip,\r\n} from \"react-stockcharts/lib/tooltip\";\r\nimport { ema, sma } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { last } from \"react-stockcharts/lib/utils\";\r\n\r\nimport './StockGraph.css';\r\n\r\nclass CandleStickChartWithEdge extends React.Component {\r\n\trender() {\r\n\t\tconst ema20 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 20 })\r\n\t\t\t.merge((d, c) => {d.ema20 = c;})\r\n\t\t\t.accessor(d => d.ema20);\r\n\r\n\t\tconst ema50 = ema()\r\n\t\t\t.id(2)\r\n\t\t\t.options({ windowSize: 50 })\r\n\t\t\t.merge((d, c) => {d.ema50 = c;})\r\n\t\t\t.accessor(d => d.ema50);\r\n\r\n\t\tconst smaVolume70 = sma()\r\n\t\t\t.id(3)\r\n\t\t\t.options({ windowSize: 70, sourcePath: \"volume\" })\r\n\t\t\t.merge((d, c) => {d.smaVolume70 = c;})\r\n\t\t\t.accessor(d => d.smaVolume70);\r\n\t\tconst { type, data: initialData, ratio } = this.props;\r\n\r\n\t\tconst calculatedData = ema20(ema50(smaVolume70(initialData)));\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas height={600}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\twidth={this.props.width - 200}//1800\r\n\t\t\t\tmargin={{ left: 90, right: 90, top: 130, bottom: 50 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t>\r\n\t\t\t\t<Chart id={2}\r\n\t\t\t\t\tyExtents={[d => d.volume, smaVolume70.accessor()]}\r\n\t\t\t\t\theight={150} origin={(w, h) => [0, h - 150]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")} tickStroke=\"#fff\"/>\r\n\r\n\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\r\n\t\t\t\t\t<AreaSeries yAccessor={smaVolume70.accessor()} stroke={smaVolume70.stroke()} fill={smaVolume70.fill()}/>\r\n\r\n\t\t\t\t\t<CurrentCoordinate yAccessor={smaVolume70.accessor()} fill={smaVolume70.stroke()} />\r\n\t\t\t\t\t<CurrentCoordinate yAccessor={d => d.volume} fill=\"#9B0A47\" />\r\n\r\n\t\t\t\t\t<EdgeIndicator itemType=\"first\" orient=\"left\" edgeAt=\"left\"\r\n\t\t\t\t\t\tyAccessor={d => d.volume} displayFormat={format(\".4s\")} fill=\"#0F0F0F\"/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={d => d.volume} displayFormat={format(\".4s\")} fill=\"#0F0F0F\"/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"first\" orient=\"left\" edgeAt=\"left\"\r\n\t\t\t\t\t\tyAccessor={smaVolume70.accessor()} displayFormat={format(\".4s\")} fill={smaVolume70.fill()}/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={smaVolume70.accessor()} displayFormat={format(\".4s\")} fill={smaVolume70.fill()}/>\r\n\t\t\t\t</Chart>\r\n\t\t\t\t<Chart id={1}\r\n\t\t\t\t\tyPan yExtents={[d => [d.high, d.low], ema20.accessor(), ema50.accessor()]}\r\n\t\t\t\t\tpadding={{ top: 5, bottom: 50 }}\r\n\t\t\t\t\theight = {800}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"#ffffff\"/>\r\n\t\t\t\t\t<XAxis axisAt=\"top\" orient=\"top\" flexTicks stroke=\"#ffffff\" tickStroke=\"#ffffff\"/>\r\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickStroke=\"#ffffff\"/>\r\n\r\n                    <CandlestickSeries \r\n                    stroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}/>\r\n\r\n\t\t\t\t\t<LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()} highlightOnHover />\r\n\t\t\t\t\t<LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()} highlightOnHover />\r\n\r\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema20.accessor()} fill={ema20.stroke()} />\r\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema50.accessor()} fill={ema50.stroke()} />\r\n\r\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={ema20.accessor()} fill={ema20.fill()} valueFill=\"#fff\"/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={ema50.accessor()} fill={ema50.fill()}/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"first\" orient=\"left\" edgeAt=\"left\"\r\n\t\t\t\t\t\tyAccessor={ema20.accessor()} fill={ema20.fill()}/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"first\" orient=\"left\" edgeAt=\"left\"\r\n\t\t\t\t\t\tyAccessor={ema50.accessor()} fill={ema50.fill()}/>\r\n\t\t\t\t\t<EdgeIndicator itemType=\"first\" orient=\"left\" edgeAt=\"left\"\r\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\r\n\r\n\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\tat=\"top\"\r\n\t\t\t\t\t\torient=\"top\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\r\n\t\t\t\t\t<OHLCTooltip origin={[-40, -65]}/>\r\n\t\t\t\t\t<MovingAverageTooltip\r\n\t\t\t\t\t\tonClick={e => console.log(e)}\r\n\t\t\t\t\t\torigin={[-38, 15]}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tyAccessor: ema20.accessor(),\r\n\t\t\t\t\t\t\t\ttype: ema20.type(),\r\n\t\t\t\t\t\t\t\tstroke: ema20.stroke(),\r\n\t\t\t\t\t\t\t\twindowSize: ema20.options().windowSize,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tyAccessor: ema50.accessor(),\r\n\t\t\t\t\t\t\t\ttype: ema50.type(),\r\n\t\t\t\t\t\t\t\tstroke: ema50.stroke(),\r\n\t\t\t\t\t\t\t\twindowSize: ema50.options().windowSize,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Chart>\r\n\t\t\t\t<CrossHairCursor stroke=\"#ffffff\"/>\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/*\r\n\r\n\r\n*/\r\n\r\nCandleStickChartWithEdge.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nCandleStickChartWithEdge.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\nCandleStickChartWithEdge = fitWidth(CandleStickChartWithEdge);\r\n\r\nexport default CandleStickChartWithEdge;\r\n"]},"metadata":{},"sourceType":"module"}