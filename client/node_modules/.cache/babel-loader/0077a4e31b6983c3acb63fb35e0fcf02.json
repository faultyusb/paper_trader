{"ast":null,"code":"import _classCallCheck from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\reactJS\\\\paper-trading-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Col from'react-bootstrap/Col';import{Link,Redirect}from'react-router-dom';import Alert from'react-bootstrap/Alert';import'bootstrap/dist/css/bootstrap.css';import'./signup.css';var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.onSubmitHandler=_this.onSubmitHandler.bind(_assertThisInitialized(_this));_this.state=_this.getInitialState();return _this;}_createClass(SignUp,[{key:\"getInitialState\",value:function getInitialState(){return{email:\"\",first_name:\"\",last_name:\"\",password:\"\",password2:\"\",redirect:false,error:{errorStatus:false,errorMessage:\"\"},success:{successStatus:false,successMessage:''}};}},{key:\"onSubmitHandler\",value:function onSubmitHandler(event){var _this2=this;event.preventDefault();fetch('/SignUp',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state)}).then(function(response){return response.json();}).then(function(data){if(data.errorMessage){console.log(\"yeet\");_this2.setState({error:{errorStatus:true,errorMessage:data.errorMessage}});console.log(data.errorMessage);console.log(_this2.state.error);}else{console.log(\"Account created!\");_this2.setState({// redirect: true, \nsuccess:{successStatus:true,successMessage:data.successMessage}});}}).catch(function(err){return console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;fetch('/isLoggedIn',{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){if(data.first_name){_this3.setState({redirect:true});}}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;// cannot visit sign up page if already logged in\nif(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/SignIn\"});}return/*#__PURE__*/React.createElement(\"div\",null,this.state.error.errorStatus?/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},\" \",this.state.error.errorMessage,\" \"):null,this.state.success.successStatus?/*#__PURE__*/React.createElement(Alert,{variant:\"primary\"},\" \",this.state.success.successMessage,\" \"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"sign__up\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Sign up!\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.onSubmitHandler},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridAddress1\"},/*#__PURE__*/React.createElement(Form.Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Form.Control,{placeholder:\"Kumail\",onChange:function onChange(event){return _this4.setState({first_name:event.target.value});}})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridAddress2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Form.Control,{placeholder:\"Qazilbash\",onChange:function onChange(event){return _this4.setState({last_name:event.target.value});}})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(event){return _this4.setState({email:event.target.value});}})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){return _this4.setState({password:event.target.value});}})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Please Re-enter your password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){return _this4.setState({password2:event.target.value});}})),/*#__PURE__*/React.createElement(Col,{xs:\"auto\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"switch\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Already have an account?\"),/*#__PURE__*/React.createElement(Link,{to:\"/SignIn\"},\"Sign in here.\"))));}}]);return SignUp;}(React.Component);export default SignUp;","map":{"version":3,"sources":["D:/reactJS/paper-trading-app/src/authenticate/signup.js"],"names":["React","Form","Button","Col","Link","Redirect","Alert","SignUp","props","onSubmitHandler","bind","state","getInitialState","email","first_name","last_name","password","password2","redirect","error","errorStatus","errorMessage","success","successStatus","successMessage","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","setState","catch","err","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Col from 'react-bootstrap/Col';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './signup.css';\r\n\r\n\r\nclass SignUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n        this.state = this.getInitialState();\r\n    }\r\n    getInitialState(){\r\n        return ({\r\n            email: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            password: \"\",\r\n            password2: \"\",\r\n            redirect: false,\r\n            error: {\r\n                errorStatus: false,\r\n                errorMessage: \"\"\r\n            },\r\n            success: {\r\n                successStatus: false,\r\n                successMessage: ''\r\n            }\r\n        });\r\n    }\r\n\r\n    onSubmitHandler(event){\r\n        event.preventDefault();\r\n        fetch('/SignUp', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(this.state)\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.errorMessage){\r\n                    console.log(\"yeet\");\r\n                    this.setState({ error: {\r\n                        errorStatus: true,\r\n                        errorMessage: data.errorMessage\r\n                    } });\r\n                    console.log(data.errorMessage);\r\n                    console.log(this.state.error);\r\n                }\r\n                else{\r\n                    console.log(\"Account created!\")\r\n                    this.setState({\r\n                        // redirect: true, \r\n                        success: {\r\n                            successStatus: true,\r\n                            successMessage: data.successMessage\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n             .catch(err => console.log(err));\r\n    }\r\n\r\n    componentDidMount(){\r\n        fetch('/isLoggedIn', {\r\n            method: 'GET',\r\n            headers: {'Content-Type': 'application/json'},\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data.first_name){\r\n                this.setState({ redirect: true });\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    \r\n\r\n    render() {\r\n        // cannot visit sign up page if already logged in\r\n        if (this.state.redirect){\r\n            return <Redirect to=\"/SignIn\" />;\r\n        } \r\n        return (\r\n            <div>\r\n                {this.state.error.errorStatus ? <Alert variant=\"danger\"> {this.state.error.errorMessage} </Alert> : null}\r\n                {this.state.success.successStatus ? <Alert variant=\"primary\"> {this.state.success.successMessage} </Alert> : null}\r\n                <div className=\"sign__up\">\r\n                    <h2>Sign up!</h2>\r\n                    <Form onSubmit = {this.onSubmitHandler}>\r\n                        <Form.Group as={Col} controlId=\"formGridAddress1\">\r\n                            <Form.Label>First Name</Form.Label>\r\n                            <Form.Control placeholder=\"Kumail\" onChange={(event)=> this.setState({first_name: event.target.value})}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col}controlId=\"formGridAddress2\">\r\n                            <Form.Label>Last Name</Form.Label>\r\n                            <Form.Control placeholder=\"Qazilbash\" onChange={(event)=> this.setState({last_name: event.target.value})}/>\r\n                        </Form.Group>\r\n\r\n\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridEmail\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={(event)=> this.setState({email: event.target.value})}/>\r\n                        </Form.Group>\r\n                    \r\n                        <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(event)=> this.setState({password: event.target.value})}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                            <Form.Label>Please Re-enter your password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(event)=> this.setState({password2: event.target.value})}/>\r\n                        </Form.Group>\r\n\r\n                        <Col xs=\"auto\">\r\n                            <Button variant=\"primary\" type=\"submit\">\r\n                                Submit\r\n                            </Button>\r\n                        </Col>\r\n                    </Form>\r\n                    <div className=\"switch\">\r\n                        <h3>Already have an account?</h3><Link to=\"/SignIn\">Sign in here.</Link>\r\n                    </div>\r\n                </div>\r\n            </div>   \r\n         );\r\n    }\r\n}\r\n \r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}